!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-viewport",["exports","@angular/core","@angular/common"],t):t(e["ngx-viewport"]={},e.ng.core,e.ng.common)}(this,function(e,n,t){"use strict";var o=new n.InjectionToken("WindowToken");function r(){return"undefined"!=typeof window&&window?window:{}}var i=function(){};i.decorators=[{type:n.NgModule,args:[{providers:[{provide:o,useFactory:r}]}]}];var c=function(){function e(e,t){this.window=e,this.document=t,this.handlers=[]}return e.prototype.addDetectListener=function(e,t){var n=this;if(this.window&&e&&t){var o={listener:function(){return n.elementOnViewport(e,t)},element:e};this.elementOnViewport(e,t),this.window.addEventListener("scroll",o.listener),this.handlers.push(o)}},e.prototype.removeDetectListener=function(t){var e=this.handlers.find(function(e){return e.element===t});this.window.removeEventListener("scroll",e.listener)},e.prototype.elementOnViewport=function(e,t){this.isElementOnViewport(e)&&t()},e.prototype.isElementOnViewport=function(e){if(this.window&&this.document){var t=e.getBoundingClientRect();return!!t&&t.top<=this.document.body.clientHeight&&t.left<=this.document.body.clientWidth&&0<=t.bottom&&0<=t.right}},e}();c.decorators=[{type:n.Injectable}],c.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[o]}]},{type:undefined,decorators:[{type:n.Inject,args:[t.DOCUMENT]}]}]};var s=function(){function e(e,t){this.inViewportService=e,this.element=t,this.inViewportAction=new n.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this.inViewportService.addDetectListener(this.element.nativeElement,function(){return e.inViewportAction.emit()})},e.prototype.ngOnDestroy=function(){this.inViewportService.removeDetectListener(this.element.nativeElement)},e}();s.decorators=[{type:n.Directive,args:[{selector:"[in-viewport]"}]}],s.ctorParameters=function(){return[{type:c},{type:n.ElementRef}]},s.propDecorators={inViewportAction:[{type:n.Output}]};var u=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[c]}},e}();u.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,i],declarations:[s],exports:[s]}]}],e.InViewportModule=u,e.ɵd=s,e.ɵe=c,e.ɵa=o,e.ɵc=i,e.ɵb=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-viewport.umd.min.js.map
